<div class="admin">
	<h1>Admin Dashboard</h1>
	<div class="container">
		<ul class="nav nav-tabs">
			<li class="active"><a href="admin#all" data-toggle="tab">Document Hub</a></li>
			<li><a href="admin#current" data-toggle="tab">Agendas</a></li>
			<li><a href="admin#attendence" data-toggle="tab">Attendence</a></li>
			<li><a href="admin#manage" data-toggle="tab">Manage Roster</a></li>
		</ul>
		<div id="myTabContent" class="tab-content">
			<div class="tab-pane fade active in" id="all" id="all">
				<table class="table table-striped table-hover ">
					<thead>
						<tr>
							<th>Date</th>
							<th>Title</th>
							<th>Link</th>
							<th>Attendence Required</th>
							<th>Manage</th>
						</tr>
					</thead>
					<tbody>
						<tr>
							<td><input type="date" ng-model="form.weekOf" class="form-control time"></td>
							<td><input ng-model="form.title" class="form-control"></td>
							<td><input ng-model="form.link" class="form-control"></td>
							<td><select ng-options="o.v as o.n for o in [{ n: 'False', v: false }, { n: 'True', v: true }]" ng-model="form.attendence" type="boolean" class="form-control"></select></td>
							<td>
								<button type="submit" class="btn btn-success" ng-click="saveNew(form, 'business')">Add</button>
								<button type="reset" class="btn btn-default" ng-click="clear()">Clear</button>
							</td>
						</tr>
						<tr ng-repeat= "row in data| orderBy: 'weekOf': true">
							<td>{{row.weekOf | date: 'shortDate'}}</td>
							<td>{{row.title}}</td>
							<td><a href="{{row.link}}" target="_blank">{{row.link}}</a></td>
							<td>{{row.attendence}}</td>
							<td>
								<div 	class="btn btn-warning" 
								data-toggle="modal" 
								data-target=".modal" 
								ng-click="editFocus(row)"
								>Edit</div>
								<div class="btn btn-danger" 
								ng-click="deleteFocus(row)"
								data-toggle="modal" 
								data-target=".modal" 
								>Delete</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="tab-pane fade" id="current">
				<div ui-view="agendas"></div> 
			</div>
			<div class="tab-pane fade" id="manage">
				<table class="table table-striped table-hover ">
					<thead>
						<tr>
							<th>First Name</th>
							<th>Last Name</th>
							<th>Email</th>
							<th>Role</th>
							<th>Group</th>
							<th>Manage</th>
						</tr>
						<tr>
							<td><input ng-model="manage.firstName" class="form-control"></td>
							<td><input ng-model="manage.lastName" class="form-control"></td>
							<td><input type="email" ng-model="manage.email" class="form-control"></td>
							<td><select ng-options="o.v as o.n for o in [{ n: 'Senator', v: 'Senator' }, { n: 'Admin', v: 'Admin' }]" ng-model="manage.role" class="form-control"></select></td>
							<td><input ng-model="manage.group" class="form-control"></td>
							<td>
								<button type="submit" class="btn btn-success" ng-click="saveNew(manage,'user')" ng-if="!editUser">Add</button>
								<button type="submit" class="btn btn-success" ng-click="saveNew(manage,'user')" ng-if="editUser">Save</button>
								<button type="reset" class="btn btn-default" ng-click="clear()" ng-if="!editUser">Clear</button>
								<button type="reset" class="btn btn-default" ng-click="clear()" ng-if="editUser">Cancel</button>
							</td>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat= "row in users| orderBy: 'weekOf': true">
							<td>{{row.firstName}}</td>
							<td>{{row.lastName}}</td>
							<td>{{row.email}}</td>
							<td>{{row.role}}</td>
							<td>{{row.group}}</td>
							<td>
								<div class="btn btn-warning" 
								ng-click="edit(row)"
								>Edit</div>
								<div class="btn btn-danger" 
								ng-click="deleteFocus(row)"
								data-toggle="modal" 
								data-target=".modal" 
								>Delete</div>
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<div class="tab-pane fade" id="attendence">

			</div>
		</div>
	</div>
</div>

<div class="modal fade">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
				<h4 class="modal-title">Edit</h4>
			</div>
			<div class="modal-body" ng-if="!delete">
				<div class="container-fluid">
					<div class="form-group">
						<div class="row">
							<label for="name" class="col-md-3 control-label">Title</label>
							<div class="col-md-8">
								<input ng-model="modal.title" type="text" class="form-control" id="name" name="name" required>
							</div>
						</div>
					</div>
					<div class="form-group">
						<div class="row">
							<label for="boolean" class="col-md-3 control-label">Attendence Required</label>
							<div class="col-md-8">
								<select ng-options="o.v as o.n for o in [{ n: 'False', v: false }, { n: 'True', v: true }]" ng-model="modal.attendence" type="boolean" class="form-control" id="hidden" name="hidden" required></select>
							</div>
						</div>
					</div>
					<div class="form-group">
						<div class="row">
							<label for="link" class="col-md-3 control-label">Event Link</label>
							<div class="col-md-8">
								<input ng-model="modal.link" type="url" class="form-control" placeholder="ex: http://www.google.com/" id="link" name="link">
							</div>
						</div>
					</div>
					<div class="form-group">
						<div class="row">
							<label for="startDate" class="col-md-3 control-label">Week</label>
							<div class="col-md-8">
								<input type="date" ng-model="modal.weekOf" class="form-control time" id="date-link" name="link">
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="modal-body" ng-if="delete">
				"{{modal.title}}" will be deleted
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default" data-dismiss="modal" ng-click="deleteClose()">Close</button>  
				<button ng-if="!delete" type="button" class="btn btn-primary" ng-click= "saveEdit(modal)">Save</button>
				<button ng-if="delete" type="button" class="btn btn-primary" ng-click= "confirmDelete(modal)">Delete</button>
			</div>
		</div>
	</div>
</div>